
### Будем сравнивать несколько моделей
Сравнение показало, что модель deepseek лучше всего справляется с проверкой лабораторных работ. Из трёх моделей на втором месте qwen и на третьем nemotron-nano (так как самый маленький feedback).


#### deepseek
**(model="deepseek/deepseek-chat-v3.1:free")**
# Анализ лабораторной работы №5 Леонтьева М.А. по SQL

## Краткое описание работы
В данной лабораторной работе студент выполнил формирование запросов-выборок в СУБД PostgreSQL. Работа включает несколько SQL-запросов различной сложности: соединение таблиц разными способами, использование агрегирующих функций, подзапросы в различных частях SELECT-выражения, группировку данных и фильтрацию результатов.

## Оценка по критериям

### 1. Качество кода и решения (23/30 баллов)
**Плюсы:**
- Правильно реализованы оба способа соединения таблиц (через JOIN и через WHERE)
- Корректно используются агрегирующие функции COUNT с GROUP BY
- Применены различные типы подзапросов (WHERE, FROM, SELECT)
- Синтаксис SQL в основном соответствует стандарту

**Недостатки:**
- В последнем запросе используется жесткое кодирование статусов (o1.order_status_id = 2), что снижает гибкость и читаемость кода
- Отсутствует обработка возможных NULL-значений
- В некоторых случаях можно было использовать более оптимальные конструкции

### 2. Полнота и правильность реализации (26/30 баллов)
**Плюсы:**
- Все поставленные задачи решены
- Запросы возвращают корректные результаты (судя по представленным результатам)
- Продемонстрировано владение различными техниками SQL
- Правильно используются псевдонимы таблиц и столбцов

**Недостатки:**
- В запросе с подзапросом в FROM неполностью отображен код (оборван на WHERE)
- Не все запросы сопровождаются примерами результатов выполнения

### 3. Документация и комментарии (8/20 баллов)
**Плюсы:**
- Есть краткие комментарии к каждому запросу, поясняющие его цель
- Структура работы логически организована

**Недостатки:**
- Полностью отсутствуют комментарии внутри SQL-кода
- Нет пояснений к логике сложных запросов
- Не описаны предположения о структуре базы данных
- Отсутствует анализ эффективности разных подходов

### 4. Оформление и структура работы (15/20 баллов)
**Плюсы:**
- Работа имеет четкую структуру
- Код хорошо отформатирован и читаем
- Присутствуют примеры результатов выполнения запросов
- Используется последовательное изложение материала

**Недостатки:**
- Неполное отображение некоторых запросов (оборванный код)
- Отсутствует титульная страница с данными студента
- Нет заключения или выводов по работе
- Таблицы с результатами не всегда полностью отображены

## Сильные стороны работы
1. Демонстрация владения различными техниками SQL-запросов
2. Умение применять подзапросы в разных контекстах
3. Правильное использование соединений таблиц
4. Логическая организация материала
5. Практическая направленность работы

## Рекомендации для улучшения
1. **Добавьте комментарии внутри SQL-кода** для пояснения сложных конструкций
2. **Используйте параметризованные подходы** вместо жесткого кодирования идентификаторов
3. **Полностью отображайте все запросы** без обрывов кода
4. **Добавьте описание структуры базы данных** для лучшего понимания контекста
5. **Включите анализ выполненных решений** - почему выбран тот или иной подход
6. **Оформите работу полностью** с титульным листом и выводами
7. **Рассмотрите альтернативные решения** для сложных запросов

## Итоговая оценка: 72/100 баллов

Работа демонстрирует хорошее понимание основ SQL и умение применять различные техники запросов. Студент успешно справился с практической частью, но нуждается в улучшении документации и более внимательном отношении к оформлению работы. Для дальнейшего роста рекомендую уделять больше внимания читаемости кода и полноте документации.



#### qween
**(model="qwen/qwen3-235b-a22b:free")**
**Анализ лабораторной работы №5 «Формирование запросов-выборок в СУБД PostgreSQL»**  
**Студент: Леонтьев М.А.**

---

### **Краткое описание работы**  
Лабораторная работа направлена на отработку навыков написания SQL-запросов в PostgreSQL с использованием различных конструкций: соединений (JOIN и старый стиль через WHERE), агрегатных функций, подзапросов (в WHERE, FROM и SELECT), а также группировки и сортировки. Работа выполнена в виде набора SQL-запросов без пояснительного текста или комментариев.

---

## **Оценка по критериям**

### **1. Качество кода и решения — 26 / 30 баллов**  
**Обоснование:**  
Запросы в целом написаны корректно и эффективно. Использованы современные конструкции (например, явные JOIN), а также продемонстрировано понимание альтернативных подходов (например, сравнение JOIN и WHERE для соединения таблиц). Подзапросы реализованы грамотно, включая использование `NOT EXISTS`, что является оптимальным решением для проверки отсутствия связанных записей.

**Минусы:**  
- В последнем запросе (подсчёт выполненных/невыполненных заказов) используется магическое число `2` для статуса "выполнен". Это снижает читаемость и поддерживаемость. Лучше было бы соединиться с таблицей `OrderStatus` и фильтровать по имени статуса (`'completed'` или аналогичному).
- В некоторых запросах используется `COUNT(o.*)` — хотя PostgreSQL это допускает, лучше писать `COUNT(*)` или `COUNT(o.order_id)`, так как `COUNT(o.*)` может быть неочевидным и не поддерживается во всех СУБД.

### **2. Полнота и правильность реализации — 30 / 30 баллов**  
**Обоснование:**  
Все задания выполнены в полном объёме и соответствуют поставленным условиям:
- Два способа соединения таблиц — реализованы корректно.
- Агрегация по статусам и городам — верна.
- Подзапросы использованы строго по требованиям: в `WHERE`, `FROM`, `SELECT`.
- Логика запросов соответствует задачам (например, `NOT EXISTS` для предприятий без заказов — правильный подход).

Нет ошибок в синтаксисе или логике. Запросы будут работать корректно при наличии ожидаемой структуры БД.

### **3. Документация и комментарии — 5 / 20 баллов**  
**Обоснование:**  
Работа представлена **исключительно в виде "голого" SQL-кода**, без:
- Пояснений к каждому запросу (что он делает, почему выбран такой подход),
- Комментариев в самом коде (например, `-- Запрос 1: предприятия с заказами, сортировка по городу`),
- Описания структуры таблиц (хотя бы кратко),
- Вывода или примеров результатов (даже гипотетических).

Это значительно снижает ценность работы как учебного материала и затрудняет проверку понимания студентом сути задач.

### **4. Оформление и структура работы — 12 / 20 баллов**  
**Обоснование:**  
Формат PDF предполагает структурированное оформление, но работа выглядит как простой дамп SQL-кода.  
**Плюсы:**  
- Запросы отформатированы с отступами и разбивкой по строкам — читаемость на уровне кода хорошая.  
- Использованы псевдонимы таблиц и понятные имена столбцов (`AS order_name` и т.п.).

**Минусы:**  
- Нет нумерации заданий или заголовков.
- Отсутствует титульный лист, цель работы (хотя она указана в начале, но не выделена как раздел).
- Нет разделения на "Задание — Решение — Комментарий".
- Не указано, в какой среде выполнялась работа (PgAdmin), хотя это требовалось в цели.

---

## **Сильные стороны**
- Отличное владение SQL: корректное использование JOIN, подзапросов, агрегации.
- Понимание различных стилей соединения таблиц.
- Грамотный выбор конструкций (`NOT EXISTS` вместо `LEFT JOIN + IS NULL` — хотя оба варианта допустимы, `NOT EXISTS` здесь уместен).
- Чистый и читаемый синтаксис SQL.

## **Рекомендации для улучшения**
1. **Добавьте комментарии** к каждому запросу: что он делает и почему выбран именно такой подход.
2. **Избегайте "магических" значений** — вместо `order_status_id = 2` используйте соединение с таблицей статусов и фильтрацию по имени.
3. **Структурируйте работу**: введение, перечень заданий, решение с пояснениями, заключение.
4. **Добавьте примеры вывода** (хотя бы в виде комментариев) — это покажет, что вы понимаете, какие данные вернёт запрос.
5. **Используйте `COUNT(*)` или `COUNT(идентификатор)`** вместо `COUNT(table.*)` для лучшей переносимости и читаемости.

---

## **Итоговая оценка: 73 / 100 баллов**

Работа демонстрирует **хорошее техническое владение SQL**, но **существенно страдает от отсутствия документации и структурированного оформления**. При доработке пояснительной части и небольшой корректировке кода (магические числа, COUNT) работа могла бы претендовать на оценку 90+.

**Оценка: 73 балла (удовлетворительно/хорошо, но с заметными недоработками в оформлении).**



#### nemotron-nano
**(model="nvidia/nemotron-nano-9b-v2:free")**

Лабораторная работа посвящена написанию SQL-запросов в PostgreSQL для выборки данных из нескольких таблиц, использования JOIN, подзапросов, агрегатных функций и группировки.

Качество кода и решения: 24/30  
Запросы в целом корректны, но есть стилистические недочёты. Например, в одном из запросов не хватает закрывающей скобки в подзапросе. Использованы оба способа соединения таблиц (через JOIN и WHERE), что соответствует заданию. Есть небольшие ошибки в форматировании.

Полнота и правильность реализации: 28/30  
Все запросы выполнены, результаты приведены. Логика запросов верная, подзапросы использованы правильно в WHERE, FROM и SELECT. Незначительные помарки в оформлении вывода.

Документация и комментарии: 10/20  
Комментарии полностью отсутствуют. В работе нет пояснений к запросам, нет описания целей или шагов. Это затрудняет понимание логики для проверяющего.

Оформление и структура работы: 14/20  
Работа имеет чёткую структуру, запросы отделены друг от друга. Но есть проблемы с форматированием: не везде выровнены столбцы, встречаются обрывы строк, неполные результаты.

Сильные стороны:  
- Правильное применение JOIN и подзапросов.  
- Полнота выполнения всех заданий.  
- Использование разных способов соединения таблиц.

Рекомендации:  
- Добавлять комментарии к каждому запросу с пояснением его цели.  
- Следить за форматированием SQL-кода и результатов.  
- Проверять запросы на синтаксис перед включением в отчёт.  
- Указывать полные результаты запросов, а не только часть строк.

Итоговая оценка: 76/100